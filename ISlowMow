-- Hi guys me cool
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local slowSpeed = 0.4 -- Starting slow-motion speed
local maxSpeed = 3 -- Maximum speed

-- Create the ScreenGui for the player
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Create the Main Frame
local mainFrame = Instance.new("Frame")
mainFrame.Parent = screenGui
mainFrame.Size = UDim2.new(0, 300, 0, 200)  -- Adjusted size to remove blank space
mainFrame.Position = UDim2.new(0.5, -150, 0.5, -100) -- Centered
mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
mainFrame.Active = true
mainFrame.Draggable = true

-- Add smooth corners to the main frame
local mainFrameCorner = Instance.new("UICorner")
mainFrameCorner.Parent = mainFrame
mainFrameCorner.CornerRadius = UDim.new(0, 10)

-- Create On and Off Buttons
local onButton = Instance.new("TextButton")
local offButton = Instance.new("TextButton")

-- Create On Button
onButton.Parent = mainFrame
onButton.Text = "On"
onButton.Size = UDim2.new(0, 90, 0, 50)
onButton.Position = UDim2.new(0, 10, 0, 10)
onButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)

-- Create Off Button
offButton.Parent = mainFrame
offButton.Text = "Off"
offButton.Size = UDim2.new(0, 90, 0, 50)
offButton.Position = UDim2.new(0, 110, 0, 10)
offButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)

-- Create Plus, Minus, Speed Display, and Status Label
local plusButton = Instance.new("TextButton")
local minusButton = Instance.new("TextButton")
local speedDisplay = Instance.new("TextLabel")
local statusIndicator = Instance.new("TextLabel")

-- Plus Button
plusButton.Parent = mainFrame
plusButton.Text = "+"
plusButton.Size = UDim2.new(0, 60, 0, 50)
plusButton.Position = UDim2.new(0, 10, 0, 70)
plusButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)

-- Minus Button
minusButton.Parent = mainFrame
minusButton.Text = "-"
minusButton.Size = UDim2.new(0, 60, 0, 50)
minusButton.Position = UDim2.new(0, 80, 0, 70)
minusButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)

-- Speed Display Label
speedDisplay.Parent = mainFrame
speedDisplay.Text = tostring(slowSpeed)
speedDisplay.Size = UDim2.new(0, 80, 0, 50)
speedDisplay.Position = UDim2.new(0, 150, 0, 70)
speedDisplay.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
speedDisplay.TextColor3 = Color3.fromRGB(255, 255, 255)
speedDisplay.TextScaled = true

-- Status Indicator
statusIndicator.Parent = mainFrame
statusIndicator.Text = "Status: Off"
statusIndicator.Size = UDim2.new(0, 210, 0, 50)
statusIndicator.Position = UDim2.new(0, 10, 0, 130)
statusIndicator.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
statusIndicator.TextColor3 = Color3.fromRGB(255, 255, 255)
statusIndicator.TextScaled = true

-- Create Minimize and Close buttons
local minimizeButton = Instance.new("TextButton")
local closeButton = Instance.new("TextButton")

-- Minimize Button
minimizeButton.Parent = mainFrame
minimizeButton.Text = "-"
minimizeButton.Size = UDim2.new(0, 30, 0, 30)
minimizeButton.Position = UDim2.new(0, 200, 0, 10)
minimizeButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)

-- Close Button
closeButton.Parent = mainFrame
closeButton.Text = "X"
closeButton.Size = UDim2.new(0, 30, 0, 30)
closeButton.Position = UDim2.new(0, 240, 0, 10)
closeButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)

-- Function to adjust animation speed
local function setSlowMotion(speed)
    for _, animTrack in pairs(humanoid:GetPlayingAnimationTracks()) do
        animTrack:AdjustSpeed(speed)
    end
    speedDisplay.Text = string.format("%.1f", speed) -- Update speed display
    if speed == 1 then
        statusIndicator.Text = "Status: Off"
        statusIndicator.BackgroundColor3 = Color3.fromRGB(255, 0, 0) -- Red
    else
        statusIndicator.Text = "Status: On"
        statusIndicator.BackgroundColor3 = Color3.fromRGB(128, 0, 128) -- Purple
    end
end

-- Button Connections
onButton.MouseButton1Click:Connect(function()
    print("On button clicked")
    setSlowMotion(slowSpeed)
end)

offButton.MouseButton1Click:Connect(function()
    print("Off button clicked")
    setSlowMotion(1) -- Reset speed to normal
end)

plusButton.MouseButton1Click:Connect(function()
    print("Plus button clicked")
    slowSpeed = slowSpeed + 0.1
    if slowSpeed > maxSpeed then slowSpeed = maxSpeed end
    setSlowMotion(slowSpeed)
end)

minusButton.MouseButton1Click:Connect(function()
    print("Minus button clicked")
    slowSpeed = slowSpeed - 0.1
    if slowSpeed < 0.1 then slowSpeed = 0.1 end
    setSlowMotion(slowSpeed)
end)

closeButton.MouseButton1Click:Connect(function()
    print("Close button clicked")
    screenGui:Destroy() -- Close the GUI
end)

minimizeButton.MouseButton1Click:Connect(function()
    print("Minimize button clicked")
    if mainFrame.Size == UDim2.new(0, 300, 0, 200) then
        mainFrame.Size = UDim2.new(0, 300, 0, 50) -- Minimize
        plusButton.Visible = false
        minusButton.Visible = false
        speedDisplay.Visible = false
        statusIndicator.Visible = false
    else
        mainFrame.Size = UDim2.new(0, 300, 0, 200) -- Restore
        plusButton.Visible = true
        minusButton.Visible = true
        speedDisplay.Visible = true
        statusIndicator.Visible = true
    end
end)
